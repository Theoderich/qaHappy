<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>QAhappy</title>

</head>
<body>
<canvas id="todayChart" width="400" height="400"></canvas>

<script src="/js/jquery-2.1.4.min.js" type="text/javascript"></script>
<script src="/js/Chart.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $.ajax({
        url: '/happiness/today',
        dataType: 'json',
        type: 'GET',
        success: function (response) {
            var data = {
                labels: ["Today"],
                datasets: [
                    {
                        label: "unhappy",
                        fillColor: "rgba(220,0,0,0.5)",
                        strokeColor: "rgba(220,0,0,0.8)",
                        highlightFill: "rgba(220,0,0,0.75)",
                        highlightStroke: "rgba(220,0,0,1)",
                        data: [response.unhappy]
                    },
                    {
                        label: "ok",
                        fillColor: "rgba(220,220,0,0.5)",
                        strokeColor: "rgba(220,220,0,0.8)",
                        highlightFill: "rgba(220,220,0,0.75)",
                        highlightStroke: "rgba(220,220,0,1)",
                        data: [response.ok]
                    },
                    {
                        label: "happy",
                        fillColor: "rgba(0,220,0,0.5)",
                        strokeColor: "rgba(0,220,0,0.8)",
                        highlightFill: "rgba(0,220,0,0.75)",
                        highlightStroke: "rgba(0,220,0,1)",
                        data: [response.happy]
                    }
                ]
            };

            var todayCtx = document.getElementById("todayChart").getContext("2d");
            var todayBarChart = new Chart(todayCtx).Bar(data);
        }
    });


</script>
</body>
</html>